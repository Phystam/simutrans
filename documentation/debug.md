# デバッガの走らせ方
## デバッガを使う理由
Simutransのコードの特性上、想定外のエラーが起きた時に「プログラムが動作を停止しました」と出るだけで「なぜ止まったのか？」という情報を得ることができません。  
そこでgdbというデバッガ上でsimutransを走らせることで、エラーが起きたときの原因特定がとてもやりやすくなります。皆様ご協力をお願いします。
## デバッガの導入
1. msys2をインストール。（ http://www.msys2.org/ ）原則としてx86_64とついてるやつをインストールしましょう。  
2. msys2を起動し（64bit版を起動する） `pacman -Syuu` を実行する。  
「msysを閉じろ」というメッセージが出てくるので一度閉じるボタンで閉じてmsys2をもう一度起動する。その後もう一度`pacman -Syuu` を実行する。  
アップデート対象がなくなるまで`pacman -Syuu`を繰り返し実行する。  
（コレでmsys2のいろいろがアプデされる。）  
3. msys2上で以下のコマンドを実行する。  
`pacman -S gcc gdb`
## デバッガ上でのSimutransの起動
1. msys2の**32bit版**を起動し、cdコマンドでソースコードのフォルダに移動する。  
例：SimutransのフォルダがC:\users\himeshi\desktop\simutrans である場合  
`cd /c/users/himeshi/desktop/simutrans`
2. `gdb sim.exe`（「sim.exe」は実行ファイルの名前）を実行。いろいろgdbが準備をしてくれる  
3. 準備が終わったら`r`と入力すれば起動する。
